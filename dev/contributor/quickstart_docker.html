
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Development environment quickstart guide (Docker) &#8212; SciPy v1.7.0.dev0+1036.4ec6f29 Manual</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/scipy.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../index.html">
  <img src="../../_static/scipyshiny_small.png" class="logo" alt="logo">
</a>      


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../getting_started.html">
  Getting started
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../tutorial/index.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../reference/index.html">
  API reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../index.html">
  Development
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../release.html">
  Release notes
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/scipy/scipy" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    
    
    
  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#docker">
   Docker
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#cloning-scipy">
   Cloning SciPy
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#starting-docker">
   Starting Docker
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="development-environment-quickstart-guide-docker">
<span id="quickstart-docker"></span><h1>Development environment quickstart guide (Docker)<a class="headerlink" href="#development-environment-quickstart-guide-docker" title="Permalink to this headline">¶</a></h1>
<p>This document describes how to use a Docker container for your SciPy
development environment.
These instructions should be considered a work in progress.</p>
<section id="docker">
<h2>Docker<a class="headerlink" href="#docker" title="Permalink to this headline">¶</a></h2>
<p>Docker is a program for running Linux virtual machines within a host
operating system. According to the <a class="reference external" href="https://www.docker.com/resources/what-container">Docker website</a>:</p>
<blockquote>
<div><p>A Docker container image is a lightweight, standalone, executable package of
software that includes everything needed to run an application: code, runtime,
system tools, system libraries and settings.
Container images become containers at runtime, and in the case of Docker
containers - images become containers when they run on Docker Engine.
Available for both Linux and Windows-based applications, containerized
software will always run the same, regardless of the host infrastructure.</p>
</div></blockquote>
<p>Docker makes setting up a development environment easy and reliable: we
provide a Docker image with suitable compilers and Scipy’s build-time
dependencies.
You can then use the Docker engine to execute the image as a container,
add the latest development version of SciPy, and build SciPy.</p>
<p>There are Docker hosts for several OS’s including:
macOS, Linux, and Windows. Please follow the appropriate
installation instructions for your operating system at <a class="reference external" href="https://docs.docker.com/install/">docs.docker.com</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you have a version of an operating system that doesn’t meet the
requirements of Docker Desktop, such as Windows 10 Home,
try <a class="reference external" href="https://docs.docker.com/toolbox/">Docker Toolbox</a> .</p>
</div>
</section>
<section id="cloning-scipy">
<h2>Cloning SciPy<a class="headerlink" href="#cloning-scipy" title="Permalink to this headline">¶</a></h2>
<p>Before starting SciPy’s Docker container, you should create a copy of the
SciPy source code on your computer. That way, you’ll be able to access the
same files both from your native operating system and within the container.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Below we will use <em>terminal window</em> as a
collective term that includes the Windows Command Prompt.</p>
</div>
<ol class="arabic simple">
<li><p>Browse to the <a class="reference external" href="https://github.com/scipy/scipy">SciPy repository on GitHub</a> and <a class="reference external" href="https://help.github.com/en/articles/fork-a-repo">create your own fork</a>.
You’ll need to create a GitHub account if you don’t
already have one.</p></li>
<li><p>Browse to your fork. Your fork will have a URL like
<a class="reference external" href="https://github.com/andyfaff/scipy">https://github.com/andyfaff/scipy</a>, except with your GitHub username
in place of “andyfaff”.</p></li>
<li><p>Click the big, green “Clone or download” button, and copy the “.git”
URL to the clipboard. The URL will be the same as your fork’s URL,
except it will end in “.git”.</p></li>
<li><p>Create a folder for the SciPy source code in a convenient place on
your computer. <a class="reference external" href="https://blog.teamtreehouse.com/introduction-to-the-mac-os-x-command-line">Navigate</a> to it in the terminal window.</p></li>
<li><p>Enter the command <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span></code> followed by your fork’s .git URL.
Note that this creates in the terminal’s working directory a
<code class="docutils literal notranslate"><span class="pre">scipy</span></code> folder containing the SciPy source code. This assumes that
you have a <code class="docutils literal notranslate"><span class="pre">git</span></code> command line client that is available on your
PATH; if not, you can follow these <a class="reference external" href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git">instructions to install a git client</a>.</p></li>
</ol>
</section>
<section id="starting-docker">
<h2>Starting Docker<a class="headerlink" href="#starting-docker" title="Permalink to this headline">¶</a></h2>
<p>Instructions for getting started with Docker can be found <a class="reference external" href="https://docs.docker.com/get-started/">here</a>. After
ensuring that Docker is working correctly, follow the instructions below to
start a Docker container for SciPy development. You’ll follow the same
instructions each time you want to start the container, as changes made to a
container do not persist after you close it.</p>
<ol class="arabic">
<li><p>In a terminal window, change the directory (using the <code class="docutils literal notranslate"><span class="pre">cd</span></code> command)
to the root folder of the SciPy git repository, which contains the file
<code class="docutils literal notranslate"><span class="pre">setup.py</span></code>.</p></li>
<li><p>Ensure that Docker Desktop (or Docker Toolbox) is running, and start up the
SciPy Docker container by entering the following command in a terminal
window:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>docker run -it --rm -v $PWD/:/home/scipy scipy/scipy-dev:&lt;image-tag&gt;
</pre></div>
</div>
<p>If you are using Windows cmd, you may run the following command instead:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">run</span> <span class="o">-</span><span class="n">it</span> <span class="o">--</span><span class="n">rm</span> <span class="o">-</span><span class="n">v</span> <span class="o">%</span><span class="n">cd</span><span class="o">%</span><span class="p">:</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">scipy</span> <span class="n">scipy</span><span class="o">/</span><span class="n">scipy</span><span class="o">-</span><span class="n">dev</span><span class="p">:</span><span class="o">&lt;</span><span class="n">image</span><span class="o">-</span><span class="n">tag</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>This command starts (<code class="docutils literal notranslate"><span class="pre">run</span></code>) an interactive (<code class="docutils literal notranslate"><span class="pre">-it</span></code>) Docker container
named <code class="docutils literal notranslate"><span class="pre">scipy-dev</span></code> (based on Ubuntu focal) from the <code class="docutils literal notranslate"><span class="pre">scipy</span></code>
<a class="reference external" href="https://cloud.docker.com/repository/docker/scipy/scipy-dev">Docker Hub repository</a>. When the Docker container starts, the
<code class="docutils literal notranslate"><span class="pre">scipy</span></code> directory from the current directory of the host (<code class="docutils literal notranslate"><span class="pre">$PWD</span></code>) is
made available in the container as <code class="docutils literal notranslate"><span class="pre">/home/scipy</span></code>. The changes you make
from the container to any of the files in that directory are also
visible in the host, and vice versa.</p>
</li>
<li><p>You should now be in the container, with something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">base</span><span class="p">)</span> <span class="n">root</span><span class="o">@</span><span class="mf">468e1</span><span class="n">b9564e4</span><span class="p">:</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">scipy</span><span class="c1">#</span>
</pre></div>
</div>
<p>as a prompt. Notice the <code class="docutils literal notranslate"><span class="pre">(base)</span></code> at the beginning, since we are using conda.</p>
</li>
<li><p>Activate the <code class="docutils literal notranslate"><span class="pre">scipy-dev</span></code> conda environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">activate</span> <span class="n">scipy</span><span class="o">-</span><span class="n">dev</span>
</pre></div>
</div>
<p>this environment has all the dependencies you’ll need to start using/building SciPy.</p>
</li>
<li><p>Initialize git submodules: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">submodule</span> <span class="pre">update</span> <span class="pre">--init</span></code>.</p></li>
<li><p>Do an in-place build by entering:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">build_ext</span> <span class="o">--</span><span class="n">inplace</span>
</pre></div>
</div>
<p>This will compile the C,
C++, and Fortran code that comes with SciPy. <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> is a
script in the root directory of SciPy, which is why you have to be
in the SciPy root directory to call it. <code class="docutils literal notranslate"><span class="pre">build_ext</span></code> is a command
defined in <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>, and <code class="docutils literal notranslate"><span class="pre">--inplace</span></code> is an option we’ll use to
ensure that the compiling happens in the SciPy directory you already
have rather than some other folder on your computer.</p>
</li>
<li><p>Test the build by entering:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">runtests</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">v</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">runtests.py</span></code> is another script in the SciPy root directory. It runs a
suite of tests that make sure SciPy is working as it should, and <code class="docutils literal notranslate"><span class="pre">-v</span></code>
activates the <code class="docutils literal notranslate"><span class="pre">–verbose</span></code> option to show all the test output.</p>
</li>
<li><p>If you want to <a class="reference internal" href="rendering_documentation.html#rendering-documentation"><span class="std std-ref">build the documentation</span></a>
or import SciPy from any directory other than the SciPy root, you should
set up SciPy for development:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">develop</span> <span class="o">.</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">.</span></code> refers to the present directory (in this case <code class="docutils literal notranslate"><span class="pre">home/scipy</span></code>).</p>
</li>
</ol>
<p>From here, you can start a Python console (e.g., enter <code class="docutils literal notranslate"><span class="pre">python</span></code>) or
execute Python scripts from the command line (e.g.,
<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">scriptname.py</span></code>).</p>
<p>You can make changes to files in the <code class="docutils literal notranslate"><span class="pre">scipy</span></code> directory in a text editor/IDE
in your host OS, and those changes will be reflected
within the container. Alternatively, you can use the <code class="docutils literal notranslate"><span class="pre">vi</span></code>
text editor within the container to make changes. No changes made
within the container are retained when the container is exited; only
changes made to files/folders within mounted volumes are kept.
If you would like to contribute changes to the SciPy project, please see
<a class="reference internal" href="development_workflow.html#development-workflow"><span class="std std-ref">Development workflow</span></a>.</p>
<p>The Docker image contains all the compilers and dependencies needed for you
to work on SciPy. Similar to the <a class="reference internal" href="quickstart_ubuntu.html#quickstart-ubuntu"><span class="std std-ref">Development environment quickstart guide (Ubuntu)</span></a>,the Docker image uses
the  <a class="reference external" href="https://www.anaconda.com/distribution/">Anaconda Distribution of Python</a> to manage the development environment.</p>
</section>
</section>


              </div>
              
              
              <div class='prev-next-bottom'>
                

              </div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2008-2021, The SciPy community.<br/>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.0.2.<br/>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>